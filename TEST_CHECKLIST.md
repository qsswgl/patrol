# 巡更打卡应用 - 测试清单

## 📋 功能测试清单

### ✅ 1. 应用安装与启动

- [ ] 应用已成功安装到设备
- [ ] 能在应用抽屉中找到"巡更打卡"图标
- [ ] 点击图标能正常启动应用
- [ ] 应用界面正常显示

### 📡 2. NFC功能测试

#### 前台NFC读取
- [ ] 打开应用
- [ ] 将手机靠近NFC标签
- [ ] 应用能成功读取标签ID
- [ ] 界面显示新的打卡记录
- [ ] 记录包含:时间、位置、标签ID

#### 后台NFC读取
- [ ] 应用最小化到后台
- [ ] 将手机靠近NFC标签
- [ ] 应用能成功读取标签(可能需要解锁屏幕后查看)
- [ ] 切换到应用查看是否有新记录

#### 锁屏NFC读取
- [ ] 锁定屏幕
- [ ] 将手机靠近NFC标签
- [ ] 解锁后切换到应用
- [ ] 查看是否有新的打卡记录

### 🔊 3. 语音播报测试

- [ ] 读取NFC标签后听到语音播报
- [ ] 语音内容正确(播报位置名称)
- [ ] 语音音量适中,清晰可辨

### 💾 4. 本地存储测试

- [ ] 打卡记录能正确保存
- [ ] 关闭应用后重新打开,记录仍然存在
- [ ] 记录按时间倒序排列
- [ ] 记录显示完整信息(时间、位置、标签ID、同步状态)

### 🔄 5. 同步功能测试

**注意**: 需要先配置API服务器地址

- [ ] 未同步记录标记为"未同步"
- [ ] 有网络时记录能自动同步
- [ ] 同步成功后状态变为"已同步"
- [ ] 同步失败有错误提示

### 📱 6. 界面功能测试

- [ ] 当前时间正确显示并实时更新
- [ ] 记录列表能正常滚动
- [ ] 界面布局在不同屏幕尺寸下正常
- [ ] 同步状态图标正确显示(✓ 或 ⏱)

### 🔋 7. 性能测试

- [ ] 应用启动速度正常(< 3秒)
- [ ] NFC读取响应快速(< 1秒)
- [ ] 列表滚动流畅
- [ ] 长时间运行无崩溃

### 🔐 8. 权限测试

- [ ] 应用请求NFC权限
- [ ] 应用请求网络权限
- [ ] 应用请求唤醒锁权限

## 🧪 测试场景

### 场景1: 日常巡更流程
1. 早上启动应用
2. 依次巡查各个岗位,读取NFC标签
3. 记录自动保存并播报
4. 晚上查看完整巡更记录
5. 记录自动同步到服务器

### 场景2: 离线使用
1. 关闭手机网络
2. 进行NFC打卡
3. 记录正常保存,标记为"未同步"
4. 恢复网络连接
5. 记录自动同步,状态更新为"已同步"

### 场景3: 后台运行
1. 打开应用
2. 切换到其他应用(微信、浏览器等)
3. 靠近NFC标签
4. 返回巡更应用
5. 查看新记录是否已添加

### 场景4: 锁屏使用
1. 应用运行状态下锁定屏幕
2. 靠近NFC标签
3. 解锁屏幕
4. 打开应用
5. 确认读卡记录

## 🐛 已知问题

### 问题1: 无法通过adb命令启动
- **状态**: 已知限制,非bug
- **原因**: .NET MAUI应用特性
- **解决**: 从应用抽屉手动启动

### 问题2: 编译警告
- **警告内容**: Application.MainPage已过时
- **状态**: 非阻断性警告
- **影响**: 不影响功能使用
- **计划**: 未来版本将迁移到新API

### 问题3: SQLite页面大小警告
- **警告内容**: 16KB页面大小要求
- **状态**: 非阻断性警告
- **影响**: 不影响当前使用
- **计划**: 等待库更新

## 📝 测试记录

### 测试日期: __________

**测试人员**: __________

**设备信息**:
- 设备型号: __________
- Android版本: __________
- 是否支持NFC: □ 是 □ 否

**测试结果**:

| 测试项 | 通过 | 失败 | 备注 |
|--------|------|------|------|
| 应用安装启动 | □ | □ | |
| 前台NFC读取 | □ | □ | |
| 后台NFC读取 | □ | □ | |
| 锁屏NFC读取 | □ | □ | |
| 语音播报 | □ | □ | |
| 本地存储 | □ | □ | |
| 同步功能 | □ | □ | |
| 界面功能 | □ | □ | |

**问题记录**:

1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

**总体评价**: □ 优秀 □ 良好 □ 及格 □ 需改进

---

**测试完成时间**: __________
